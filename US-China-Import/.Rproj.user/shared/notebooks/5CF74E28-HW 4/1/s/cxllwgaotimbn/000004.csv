"0","set.seed(0)"
"0","dat <- imports"
"0",""
"0","## Determine highlighted regions"
"0","v <- dat$rects"
"0",""
"0","## Get the start and end points for highlighted regions"
"0","inds <- diff(c(0, v))"
"0","#print(v)"
"0","start <- dat$Time[inds == 1]"
"0","end <- dat$Time[inds == -1]"
"0","if (length(start) > length(end)) end <- c(end, tail(dat$Time, 1))"
"0",""
"0","## highlight region data"
"0","rects <- data.frame(start=start, end=end, group=seq_along(start))"
"0",""
"0","ggplot(data=dat, aes(Time, Imports)) +"
"0","theme_minimal() +"
"0","geom_line(color = ""#00AFBB"", size = .5) +"
"0","geom_rect(data=rects, inherit.aes=FALSE, aes(xmin=start, xmax=end, ymin=min(dat$Imports),"
"0","ymax=max(dat$Imports), group=group), color=""transparent"", fill=""orange"", "
"0","alpha=0.3) +"
"0","labs(title = ""Monthly U.S. Imports from China (in millions of "
"0","dollars)"", subtitle = ""(From 1989 to 2019 - Contraction period highlighted in Orange)"") "
